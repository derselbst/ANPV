From 5758bdf5bede8df1ee20d1bb30564d4427060619 Mon Sep 17 00:00:00 2001
From: derselbst <tom.mbrt@googlemail.com>
Date: Sun, 12 Jun 2022 18:57:38 +0200
Subject: [PATCH] Compile KDE Framework against Qt6

---
 ports/harfbuzz/portfile.cmake              |  2 +-
 ports/kf5archive/portfile.cmake            |  2 ++
 ports/kf5archive/vcpkg.json                |  2 +-
 ports/kf5attica/portfile.cmake             |  2 ++
 ports/kf5attica/vcpkg.json                 |  4 ++--
 ports/kf5auth/portfile.cmake               |  2 ++
 ports/kf5auth/vcpkg.json                   |  4 ++--
 ports/kf5bookmarks/portfile.cmake          |  2 ++
 ports/kf5bookmarks/vcpkg.json              |  4 ++--
 ports/kf5codecs/portfile.cmake             |  2 ++
 ports/kf5codecs/vcpkg.json                 |  4 ++--
 ports/kf5completion/portfile.cmake         |  2 ++
 ports/kf5completion/vcpkg.json             |  2 +-
 ports/kf5config/portfile.cmake             |  2 ++
 ports/kf5config/vcpkg.json                 |  4 ++--
 ports/kf5configwidgets/portfile.cmake      |  2 ++
 ports/kf5configwidgets/vcpkg.json          |  4 ++--
 ports/kf5coreaddons/portfile.cmake         |  2 ++
 ports/kf5coreaddons/vcpkg.json             |  4 ++--
 ports/kf5crash/portfile.cmake              |  2 ++
 ports/kf5crash/vcpkg.json                  |  4 ----
 ports/kf5dbusaddons/portfile.cmake         |  2 ++
 ports/kf5dbusaddons/vcpkg.json             |  4 ++--
 ports/kf5declarative/portfile.cmake        |  2 ++
 ports/kf5declarative/vcpkg.json            |  4 ++--
 ports/kf5diagram/portfile.cmake            |  4 +++-
 ports/kf5diagram/vcpkg.json                |  2 +-
 ports/kf5globalaccel/portfile.cmake        |  2 ++
 ports/kf5globalaccel/vcpkg.json            |  8 ++------
 ports/kf5guiaddons/portfile.cmake          |  2 ++
 ports/kf5guiaddons/vcpkg.json              | 10 +---------
 ports/kf5holidays/portfile.cmake           |  2 ++
 ports/kf5holidays/vcpkg.json               |  4 ++--
 ports/kf5i18n/portfile.cmake               |  2 ++
 ports/kf5i18n/vcpkg.json                   |  2 +-
 ports/kf5iconthemes/portfile.cmake         |  2 ++
 ports/kf5iconthemes/vcpkg.json             |  4 ++--
 ports/kf5itemmodels/portfile.cmake         |  2 ++
 ports/kf5itemmodels/vcpkg.json             |  4 ++--
 ports/kf5itemviews/portfile.cmake          |  2 ++
 ports/kf5itemviews/vcpkg.json              |  4 ++--
 ports/kf5jobwidgets/portfile.cmake         |  2 ++
 ports/kf5jobwidgets/vcpkg.json             |  6 +-----
 ports/kf5kcmutils/portfile.cmake           |  2 ++
 ports/kf5kcmutils/vcpkg.json               |  4 ++--
 ports/kf5kio/portfile.cmake                |  2 ++
 ports/kf5kio/vcpkg.json                    | 10 +---------
 ports/kf5newstuff/portfile.cmake           |  2 ++
 ports/kf5newstuff/vcpkg.json               |  4 ++--
 ports/kf5notifications/portfile.cmake      |  2 ++
 ports/kf5notifications/vcpkg.json          | 16 ++--------------
 ports/kf5package/portfile.cmake            |  2 ++
 ports/kf5package/vcpkg.json                |  4 ++--
 ports/kf5plotting/portfile.cmake           |  2 ++
 ports/kf5plotting/vcpkg.json               |  4 ++--
 ports/kf5service/portfile.cmake            |  2 ++
 ports/kf5service/vcpkg.json                |  4 ++--
 ports/kf5solid/portfile.cmake              |  2 ++
 ports/kf5solid/vcpkg.json                  |  4 ++--
 ports/kf5sonnet/portfile.cmake             |  2 ++
 ports/kf5sonnet/vcpkg.json                 |  4 ++--
 ports/kf5syntaxhighlighting/portfile.cmake |  2 ++
 ports/kf5syntaxhighlighting/vcpkg.json     |  4 ++--
 ports/kf5textwidgets/portfile.cmake        |  2 ++
 ports/kf5textwidgets/vcpkg.json            |  4 ++--
 ports/kf5wallet/portfile.cmake             |  2 ++
 ports/kf5wallet/vcpkg.json                 |  4 ++--
 ports/kf5widgetsaddons/portfile.cmake      |  2 ++
 ports/kf5widgetsaddons/vcpkg.json          |  4 ++--
 ports/kf5windowsystem/portfile.cmake       |  2 ++
 ports/kf5windowsystem/vcpkg.json           | 10 +---------
 ports/kf5xmlgui/portfile.cmake             |  2 ++
 ports/kf5xmlgui/vcpkg.json                 |  4 ++--
 73 files changed, 136 insertions(+), 112 deletions(-)

diff --git a/ports/harfbuzz/portfile.cmake b/ports/harfbuzz/portfile.cmake
index 6e618698b..86120fdf5 100644
--- a/ports/harfbuzz/portfile.cmake
+++ b/ports/harfbuzz/portfile.cmake
@@ -30,7 +30,7 @@ else()
 endif()
 list(APPEND FEATURE_OPTIONS -Dfreetype=enabled) #Enable freetype interop helpers
 #if(VCPKG_TARGET_IS_WINDOWS)
-    #link errors in qt5-base. probably requires changes to the pc files generated by meson
+    #link errors in qtbase. probably requires changes to the pc files generated by meson
     #list(APPEND FEATURE_OPTIONS -Dgdi=enabled) # enable gdi helpers and uniscribe shaper backend (windows only)
 #endif()
 
diff --git a/ports/kf5archive/portfile.cmake b/ports/kf5archive/portfile.cmake
index ec0c2dd98..10d34825c 100644
--- a/ports/kf5archive/portfile.cmake
+++ b/ports/kf5archive/portfile.cmake
@@ -23,6 +23,8 @@ vcpkg_cmake_configure(
     OPTIONS
         -DCMAKE_DISABLE_FIND_PACKAGE_PkgConfig=ON
         -DBUILD_TESTING=OFF
+        -DBUILD_WITH_QT6=ON
+        -DEXCLUDE_DEPRECATED_BEFORE_AND_AT=5.94.0
         ${FEATURE_OPTIONS}
 )
 
diff --git a/ports/kf5archive/vcpkg.json b/ports/kf5archive/vcpkg.json
index a6a778d87..e08f263b1 100644
--- a/ports/kf5archive/vcpkg.json
+++ b/ports/kf5archive/vcpkg.json
@@ -7,7 +7,7 @@
   "license": "LGPL-2.0-or-later",
   "dependencies": [
     "ecm",
-    "qt5-base",
+    "qtbase",
     {
       "name": "vcpkg-cmake",
       "host": true
diff --git a/ports/kf5attica/portfile.cmake b/ports/kf5attica/portfile.cmake
index ebb31c98c..9e7d5cedb 100644
--- a/ports/kf5attica/portfile.cmake
+++ b/ports/kf5attica/portfile.cmake
@@ -13,6 +13,8 @@ vcpkg_cmake_configure(
     SOURCE_PATH "${SOURCE_PATH}"
     OPTIONS
         -DBUILD_TESTING=OFF
+        -DBUILD_WITH_QT6=ON
+        -DEXCLUDE_DEPRECATED_BEFORE_AND_AT=5.94.0
 )
 
 vcpkg_cmake_install()
diff --git a/ports/kf5attica/vcpkg.json b/ports/kf5attica/vcpkg.json
index 2f38ba3ee..ced7d2c00 100644
--- a/ports/kf5attica/vcpkg.json
+++ b/ports/kf5attica/vcpkg.json
@@ -6,8 +6,8 @@
   "homepage": "https://api.kde.org/frameworks/attica/html/index.html",
   "dependencies": [
     "ecm",
-    "qt5-base",
-    "qt5-tools",
+    "qtbase",
+    "qttools",
     {
       "name": "vcpkg-cmake",
       "host": true
diff --git a/ports/kf5auth/portfile.cmake b/ports/kf5auth/portfile.cmake
index 2c75a4bfc..6b9c2f1b2 100644
--- a/ports/kf5auth/portfile.cmake
+++ b/ports/kf5auth/portfile.cmake
@@ -13,6 +13,8 @@ vcpkg_cmake_configure(
     SOURCE_PATH "${SOURCE_PATH}"
     OPTIONS
         -DBUILD_TESTING=OFF
+        -DBUILD_WITH_QT6=ON
+        -DEXCLUDE_DEPRECATED_BEFORE_AND_AT=5.94.0
         -DKDE_INSTALL_PLUGINDIR=plugins
 )
 
diff --git a/ports/kf5auth/vcpkg.json b/ports/kf5auth/vcpkg.json
index e821fee90..ca8af9358 100644
--- a/ports/kf5auth/vcpkg.json
+++ b/ports/kf5auth/vcpkg.json
@@ -6,8 +6,8 @@
   "dependencies": [
     "ecm",
     "kf5coreaddons",
-    "qt5-base",
-    "qt5-tools",
+    "qtbase",
+    "qttools",
     {
       "name": "vcpkg-cmake",
       "host": true
diff --git a/ports/kf5bookmarks/portfile.cmake b/ports/kf5bookmarks/portfile.cmake
index 159f79ffa..fdb8bac5f 100644
--- a/ports/kf5bookmarks/portfile.cmake
+++ b/ports/kf5bookmarks/portfile.cmake
@@ -13,6 +13,8 @@ vcpkg_cmake_configure(
     SOURCE_PATH "${SOURCE_PATH}"
     OPTIONS
         -DBUILD_TESTING=OFF
+        -DBUILD_WITH_QT6=ON
+        -DEXCLUDE_DEPRECATED_BEFORE_AND_AT=5.94.0
 )
 
 vcpkg_cmake_install()
diff --git a/ports/kf5bookmarks/vcpkg.json b/ports/kf5bookmarks/vcpkg.json
index 5064aa9ee..22cf14a43 100644
--- a/ports/kf5bookmarks/vcpkg.json
+++ b/ports/kf5bookmarks/vcpkg.json
@@ -18,8 +18,8 @@
     "kf5coreaddons",
     "kf5widgetsaddons",
     "kf5xmlgui",
-    "qt5-base",
-    "qt5-tools",
+    "qtbase",
+    "qttools",
     {
       "name": "vcpkg-cmake",
       "host": true
diff --git a/ports/kf5codecs/portfile.cmake b/ports/kf5codecs/portfile.cmake
index 26713a368..4c9e380f7 100644
--- a/ports/kf5codecs/portfile.cmake
+++ b/ports/kf5codecs/portfile.cmake
@@ -13,6 +13,8 @@ vcpkg_cmake_configure(
     SOURCE_PATH "${SOURCE_PATH}"
     OPTIONS
         -DBUILD_TESTING=OFF
+        -DBUILD_WITH_QT6=ON
+        -DEXCLUDE_DEPRECATED_BEFORE_AND_AT=5.94.0
         "-DGperf_EXECUTABLE=${CURRENT_HOST_INSTALLED_DIR}/tools/gperf/gperf${VCPKG_HOST_EXECUTABLE_SUFFIX}"
 )
 
diff --git a/ports/kf5codecs/vcpkg.json b/ports/kf5codecs/vcpkg.json
index 7ffe07cc4..21261f396 100644
--- a/ports/kf5codecs/vcpkg.json
+++ b/ports/kf5codecs/vcpkg.json
@@ -10,8 +10,8 @@
       "name": "gperf",
       "host": true
     },
-    "qt5-base",
-    "qt5-tools",
+    "qtbase",
+    "qttools",
     {
       "name": "vcpkg-cmake",
       "host": true
diff --git a/ports/kf5completion/portfile.cmake b/ports/kf5completion/portfile.cmake
index a66913e1a..10959e09d 100644
--- a/ports/kf5completion/portfile.cmake
+++ b/ports/kf5completion/portfile.cmake
@@ -13,6 +13,8 @@ vcpkg_cmake_configure(
     SOURCE_PATH "${SOURCE_PATH}"
     OPTIONS
         -DBUILD_TESTING=OFF
+        -DBUILD_WITH_QT6=ON
+        -DEXCLUDE_DEPRECATED_BEFORE_AND_AT=5.94.0
         -DBUILD_DESIGNERPLUGIN=OFF
 )
 
diff --git a/ports/kf5completion/vcpkg.json b/ports/kf5completion/vcpkg.json
index a5619c4b0..f1b07a289 100644
--- a/ports/kf5completion/vcpkg.json
+++ b/ports/kf5completion/vcpkg.json
@@ -7,7 +7,7 @@
     "ecm",
     "kf5config",
     "kf5widgetsaddons",
-    "qt5-tools",
+    "qttools",
     {
       "name": "vcpkg-cmake",
       "host": true
diff --git a/ports/kf5config/portfile.cmake b/ports/kf5config/portfile.cmake
index 3abf46595..5cc0e6ed6 100644
--- a/ports/kf5config/portfile.cmake
+++ b/ports/kf5config/portfile.cmake
@@ -13,6 +13,8 @@ vcpkg_cmake_configure(
     SOURCE_PATH "${SOURCE_PATH}"
     OPTIONS
         -DBUILD_TESTING=OFF
+        -DBUILD_WITH_QT6=ON
+        -DEXCLUDE_DEPRECATED_BEFORE_AND_AT=5.94.0
         -DKDE_INSTALL_LIBEXECDIR=bin
 )
 
diff --git a/ports/kf5config/vcpkg.json b/ports/kf5config/vcpkg.json
index 2e3c6fe3b..f3f71282d 100644
--- a/ports/kf5config/vcpkg.json
+++ b/ports/kf5config/vcpkg.json
@@ -5,8 +5,8 @@
   "homepage": "https://api.kde.org/frameworks/kconfig/html/index.html",
   "dependencies": [
     "ecm",
-    "qt5-base",
-    "qt5-tools",
+    "qtbase",
+    "qttools",
     {
       "name": "vcpkg-cmake",
       "host": true
diff --git a/ports/kf5configwidgets/portfile.cmake b/ports/kf5configwidgets/portfile.cmake
index e314320d7..d7630c96f 100644
--- a/ports/kf5configwidgets/portfile.cmake
+++ b/ports/kf5configwidgets/portfile.cmake
@@ -19,6 +19,8 @@ vcpkg_cmake_configure(
     SOURCE_PATH "${SOURCE_PATH}"
     OPTIONS
         -DBUILD_TESTING=OFF
+        -DBUILD_WITH_QT6=ON
+        -DEXCLUDE_DEPRECATED_BEFORE_AND_AT=5.94.0
         -DCMAKE_DISABLE_FIND_PACKAGE_KF5DocTools=ON
         -DKDE_INSTALL_PLUGINDIR=plugins
         -DKDE_INSTALL_QTPLUGINDIR=plugins
diff --git a/ports/kf5configwidgets/vcpkg.json b/ports/kf5configwidgets/vcpkg.json
index a844fb521..4ec5df88c 100644
--- a/ports/kf5configwidgets/vcpkg.json
+++ b/ports/kf5configwidgets/vcpkg.json
@@ -18,8 +18,8 @@
     "kf5guiaddons",
     "kf5i18n",
     "kf5widgetsaddons",
-    "qt5-base",
-    "qt5-tools",
+    "qtbase",
+    "qttools",
     {
       "name": "vcpkg-cmake",
       "host": true
diff --git a/ports/kf5coreaddons/portfile.cmake b/ports/kf5coreaddons/portfile.cmake
index 36cb5cc9b..8831ed78e 100644
--- a/ports/kf5coreaddons/portfile.cmake
+++ b/ports/kf5coreaddons/portfile.cmake
@@ -14,6 +14,8 @@ vcpkg_cmake_configure(
     SOURCE_PATH "${SOURCE_PATH}"
     OPTIONS
         -DBUILD_TESTING=OFF
+        -DBUILD_WITH_QT6=ON
+        -DEXCLUDE_DEPRECATED_BEFORE_AND_AT=5.94.0
 )
 
 vcpkg_cmake_install()
diff --git a/ports/kf5coreaddons/vcpkg.json b/ports/kf5coreaddons/vcpkg.json
index 7ea1f782b..78175c5b6 100644
--- a/ports/kf5coreaddons/vcpkg.json
+++ b/ports/kf5coreaddons/vcpkg.json
@@ -5,8 +5,8 @@
   "homepage": "https://api.kde.org/frameworks/kcoreaddons/html/index.html",
   "dependencies": [
     "ecm",
-    "qt5-base",
-    "qt5-tools",
+    "qtbase",
+    "qttools",
     {
       "name": "vcpkg-cmake",
       "host": true
diff --git a/ports/kf5crash/portfile.cmake b/ports/kf5crash/portfile.cmake
index 8cf3567ad..f6a435569 100644
--- a/ports/kf5crash/portfile.cmake
+++ b/ports/kf5crash/portfile.cmake
@@ -13,6 +13,8 @@ vcpkg_cmake_configure(
     SOURCE_PATH "${SOURCE_PATH}"
     OPTIONS
         -DBUILD_TESTING=OFF
+        -DBUILD_WITH_QT6=ON
+        -DEXCLUDE_DEPRECATED_BEFORE_AND_AT=5.94.0
 )
 
 vcpkg_cmake_install()
diff --git a/ports/kf5crash/vcpkg.json b/ports/kf5crash/vcpkg.json
index f4588397e..851d2dbd8 100644
--- a/ports/kf5crash/vcpkg.json
+++ b/ports/kf5crash/vcpkg.json
@@ -7,10 +7,6 @@
     "ecm",
     "kf5coreaddons",
     "kf5windowsystem",
-    {
-      "name": "qt5-x11extras",
-      "platform": "linux"
-    },
     {
       "name": "vcpkg-cmake",
       "host": true
diff --git a/ports/kf5dbusaddons/portfile.cmake b/ports/kf5dbusaddons/portfile.cmake
index c3e125188..00906a16b 100644
--- a/ports/kf5dbusaddons/portfile.cmake
+++ b/ports/kf5dbusaddons/portfile.cmake
@@ -13,6 +13,8 @@ vcpkg_cmake_configure(
     SOURCE_PATH "${SOURCE_PATH}"
     OPTIONS
         -DBUILD_TESTING=OFF
+        -DBUILD_WITH_QT6=ON
+        -DEXCLUDE_DEPRECATED_BEFORE_AND_AT=5.94.0
 )
 
 vcpkg_cmake_install()
diff --git a/ports/kf5dbusaddons/vcpkg.json b/ports/kf5dbusaddons/vcpkg.json
index 6249aa2e0..4f4ef9923 100644
--- a/ports/kf5dbusaddons/vcpkg.json
+++ b/ports/kf5dbusaddons/vcpkg.json
@@ -5,8 +5,8 @@
   "homepage": "https://api.kde.org/frameworks/kdbusaddons/html/index.html",
   "dependencies": [
     "ecm",
-    "qt5-base",
-    "qt5-tools",
+    "qtbase",
+    "qttools",
     {
       "name": "vcpkg-cmake",
       "host": true
diff --git a/ports/kf5declarative/portfile.cmake b/ports/kf5declarative/portfile.cmake
index 07b1b54e2..c9352566e 100644
--- a/ports/kf5declarative/portfile.cmake
+++ b/ports/kf5declarative/portfile.cmake
@@ -18,6 +18,8 @@ vcpkg_cmake_configure(
     SOURCE_PATH "${SOURCE_PATH}"
     OPTIONS
         -DBUILD_TESTING=OFF
+        -DBUILD_WITH_QT6=ON
+        -DEXCLUDE_DEPRECATED_BEFORE_AND_AT=5.94.0
         -DKDE_INSTALL_QTPLUGINDIR=plugins
         -DBUNDLE_INSTALL_DIR=bin
         -DKDE_INSTALL_QMLDIR=qml
diff --git a/ports/kf5declarative/vcpkg.json b/ports/kf5declarative/vcpkg.json
index 5407b3989..e0e99e42a 100644
--- a/ports/kf5declarative/vcpkg.json
+++ b/ports/kf5declarative/vcpkg.json
@@ -22,8 +22,8 @@
     "kf5package",
     "kf5widgetsaddons",
     "kf5windowsystem",
-    "qt5-base",
-    "qt5-tools",
+    "qtbase",
+    "qttools",
     {
       "name": "vcpkg-cmake",
       "host": true
diff --git a/ports/kf5diagram/portfile.cmake b/ports/kf5diagram/portfile.cmake
index 06278643c..b87cae96f 100644
--- a/ports/kf5diagram/portfile.cmake
+++ b/ports/kf5diagram/portfile.cmake
@@ -13,6 +13,8 @@ vcpkg_cmake_configure(
     SOURCE_PATH "${SOURCE_PATH}"
     OPTIONS
         -DBUILD_TESTING=OFF
+        -DBUILD_WITH_QT6=ON
+        -DEXCLUDE_DEPRECATED_BEFORE_AND_AT=5.94.0
 )
 
 vcpkg_cmake_install()
@@ -26,4 +28,4 @@ endif()
 
 file(REMOVE_RECURSE "${CURRENT_PACKAGES_DIR}/debug/include")
 file(REMOVE_RECURSE "${CURRENT_PACKAGES_DIR}/debug/share")
-file(INSTALL "${SOURCE_PATH}/LICENSE.GPL.txt" DESTINATION "${CURRENT_PACKAGES_DIR}/share/${PORT}/copyright")
\ No newline at end of file
+file(INSTALL "${SOURCE_PATH}/LICENSE.GPL.txt" DESTINATION "${CURRENT_PACKAGES_DIR}/share/${PORT}/copyright")
diff --git a/ports/kf5diagram/vcpkg.json b/ports/kf5diagram/vcpkg.json
index 0388001e5..dc0851cb4 100644
--- a/ports/kf5diagram/vcpkg.json
+++ b/ports/kf5diagram/vcpkg.json
@@ -5,7 +5,7 @@
   "homepage": "https://api.kde.org/kdiagram/index.html",
   "dependencies": [
     "ecm",
-    "qt5-base",
+    "qtbase",
     "qt5-svg",
     {
       "name": "vcpkg-cmake",
diff --git a/ports/kf5globalaccel/portfile.cmake b/ports/kf5globalaccel/portfile.cmake
index 3b0b1d070..ca1ba5386 100644
--- a/ports/kf5globalaccel/portfile.cmake
+++ b/ports/kf5globalaccel/portfile.cmake
@@ -13,6 +13,8 @@ vcpkg_cmake_configure(
     SOURCE_PATH "${SOURCE_PATH}"
     OPTIONS
         -DBUILD_TESTING=OFF
+        -DBUILD_WITH_QT6=ON
+        -DEXCLUDE_DEPRECATED_BEFORE_AND_AT=5.94.0
 )
 
 vcpkg_cmake_install()
diff --git a/ports/kf5globalaccel/vcpkg.json b/ports/kf5globalaccel/vcpkg.json
index dbc60bfaa..35715ac6e 100644
--- a/ports/kf5globalaccel/vcpkg.json
+++ b/ports/kf5globalaccel/vcpkg.json
@@ -10,12 +10,8 @@
     "kf5crash",
     "kf5dbusaddons",
     "kf5windowsystem",
-    "qt5-base",
-    "qt5-tools",
-    {
-      "name": "qt5-x11extras",
-      "platform": "linux"
-    },
+    "qtbase",
+    "qttools",
     {
       "name": "vcpkg-cmake",
       "host": true
diff --git a/ports/kf5guiaddons/portfile.cmake b/ports/kf5guiaddons/portfile.cmake
index 07048be6d..628f1117f 100644
--- a/ports/kf5guiaddons/portfile.cmake
+++ b/ports/kf5guiaddons/portfile.cmake
@@ -24,6 +24,8 @@ vcpkg_cmake_configure(
     SOURCE_PATH "${SOURCE_PATH}"
     OPTIONS
         -DBUILD_TESTING=OFF
+        -DBUILD_WITH_QT6=ON
+        -DEXCLUDE_DEPRECATED_BEFORE_AND_AT=5.94.0
         -DQtWaylandScanner_EXECUTABLE=${CURRENT_INSTALLED_DIR}/tools/qt5-wayland/bin/qtwaylandscanner
         ${FEATURE_OPTIONS}
     MAYBE_UNUSED_VARIABLES
diff --git a/ports/kf5guiaddons/vcpkg.json b/ports/kf5guiaddons/vcpkg.json
index ca00997c9..5d948ef96 100644
--- a/ports/kf5guiaddons/vcpkg.json
+++ b/ports/kf5guiaddons/vcpkg.json
@@ -5,15 +5,7 @@
   "homepage": "https://api.kde.org/frameworks/kguiaddons/html/index.html",
   "dependencies": [
     "ecm",
-    "qt5-tools",
-    {
-      "name": "qt5-winextras",
-      "platform": "windows"
-    },
-    {
-      "name": "qt5-x11extras",
-      "platform": "linux"
-    },
+    "qttools",
     {
       "name": "vcpkg-cmake",
       "host": true
diff --git a/ports/kf5holidays/portfile.cmake b/ports/kf5holidays/portfile.cmake
index df9d162c8..7c2704970 100644
--- a/ports/kf5holidays/portfile.cmake
+++ b/ports/kf5holidays/portfile.cmake
@@ -13,6 +13,8 @@ vcpkg_cmake_configure(
     SOURCE_PATH "${SOURCE_PATH}"
     OPTIONS
         -DBUILD_TESTING=OFF
+        -DBUILD_WITH_QT6=ON
+        -DEXCLUDE_DEPRECATED_BEFORE_AND_AT=5.94.0
         -DKDE_INSTALL_QMLDIR=qml
 )
 
diff --git a/ports/kf5holidays/vcpkg.json b/ports/kf5holidays/vcpkg.json
index 5055e2a83..dac52b89d 100644
--- a/ports/kf5holidays/vcpkg.json
+++ b/ports/kf5holidays/vcpkg.json
@@ -4,8 +4,8 @@
   "description": "Holiday calculation library",
   "dependencies": [
     "ecm",
-    "qt5-base",
-    "qt5-tools",
+    "qtbase",
+    "qttools",
     {
       "name": "vcpkg-cmake",
       "host": true
diff --git a/ports/kf5i18n/portfile.cmake b/ports/kf5i18n/portfile.cmake
index 078c5a5ad..c8111579d 100644
--- a/ports/kf5i18n/portfile.cmake
+++ b/ports/kf5i18n/portfile.cmake
@@ -19,6 +19,8 @@ vcpkg_cmake_configure(
     SOURCE_PATH "${SOURCE_PATH}"
     OPTIONS
         -DBUILD_TESTING=OFF
+        -DBUILD_WITH_QT6=ON
+        -DEXCLUDE_DEPRECATED_BEFORE_AND_AT=5.94.0
         -DKDE_INSTALL_PLUGINDIR=plugins
         -DKDE_INSTALL_QMLDIR=qml
         -DPYTHON_EXECUTABLE=${PYTHON3}
diff --git a/ports/kf5i18n/vcpkg.json b/ports/kf5i18n/vcpkg.json
index 6aeeada80..9fc7a5ff0 100644
--- a/ports/kf5i18n/vcpkg.json
+++ b/ports/kf5i18n/vcpkg.json
@@ -15,7 +15,7 @@
     },
     "libiconv",
     "qt5-declarative",
-    "qt5-tools",
+    "qttools",
     {
       "name": "vcpkg-cmake",
       "host": true
diff --git a/ports/kf5iconthemes/portfile.cmake b/ports/kf5iconthemes/portfile.cmake
index 9486d26fb..6b8dd4acc 100644
--- a/ports/kf5iconthemes/portfile.cmake
+++ b/ports/kf5iconthemes/portfile.cmake
@@ -19,6 +19,8 @@ vcpkg_cmake_configure(
     SOURCE_PATH "${SOURCE_PATH}"
     OPTIONS
         -DBUILD_TESTING=OFF
+        -DBUILD_WITH_QT6=ON
+        -DEXCLUDE_DEPRECATED_BEFORE_AND_AT=5.94.0
         -DKDE_INSTALL_PLUGINDIR=plugins
         -DKDE_INSTALL_QTPLUGINDIR=plugins
         ${FEATURE_OPTIONS}
diff --git a/ports/kf5iconthemes/vcpkg.json b/ports/kf5iconthemes/vcpkg.json
index a7e496cd0..5ed9902eb 100644
--- a/ports/kf5iconthemes/vcpkg.json
+++ b/ports/kf5iconthemes/vcpkg.json
@@ -20,9 +20,9 @@
     "kf5i18n",
     "kf5itemviews",
     "kf5widgetsaddons",
-    "qt5-base",
+    "qtbase",
     "qt5-svg",
-    "qt5-tools",
+    "qttools",
     {
       "name": "vcpkg-cmake",
       "host": true
diff --git a/ports/kf5itemmodels/portfile.cmake b/ports/kf5itemmodels/portfile.cmake
index 04c74eda4..41964bea9 100644
--- a/ports/kf5itemmodels/portfile.cmake
+++ b/ports/kf5itemmodels/portfile.cmake
@@ -12,6 +12,8 @@ vcpkg_cmake_configure(
     SOURCE_PATH "${SOURCE_PATH}"
     OPTIONS
         -DBUILD_TESTING=OFF
+        -DBUILD_WITH_QT6=ON
+        -DEXCLUDE_DEPRECATED_BEFORE_AND_AT=5.94.0
         -DKDE_INSTALL_QMLDIR=qml
 )
 
diff --git a/ports/kf5itemmodels/vcpkg.json b/ports/kf5itemmodels/vcpkg.json
index f289009c7..2f5e27944 100644
--- a/ports/kf5itemmodels/vcpkg.json
+++ b/ports/kf5itemmodels/vcpkg.json
@@ -5,8 +5,8 @@
   "homepage": "https://api.kde.org/frameworks/kitemmodels/html/index.html",
   "dependencies": [
     "ecm",
-    "qt5-base",
-    "qt5-tools",
+    "qtbase",
+    "qttools",
     {
       "name": "vcpkg-cmake",
       "host": true
diff --git a/ports/kf5itemviews/portfile.cmake b/ports/kf5itemviews/portfile.cmake
index f1efb9e1c..3240034cf 100644
--- a/ports/kf5itemviews/portfile.cmake
+++ b/ports/kf5itemviews/portfile.cmake
@@ -12,6 +12,8 @@ vcpkg_cmake_configure(
     SOURCE_PATH "${SOURCE_PATH}"
     OPTIONS
         -DBUILD_TESTING=OFF
+        -DBUILD_WITH_QT6=ON
+        -DEXCLUDE_DEPRECATED_BEFORE_AND_AT=5.94.0
         -DBUILD_DESIGNERPLUGIN=OFF
 )
 
diff --git a/ports/kf5itemviews/vcpkg.json b/ports/kf5itemviews/vcpkg.json
index 444aa1f79..c7f4f728d 100644
--- a/ports/kf5itemviews/vcpkg.json
+++ b/ports/kf5itemviews/vcpkg.json
@@ -5,8 +5,8 @@
   "homepage": "https://api.kde.org/frameworks/kitemviews/html/index.html",
   "dependencies": [
     "ecm",
-    "qt5-base",
-    "qt5-tools",
+    "qtbase",
+    "qttools",
     {
       "name": "vcpkg-cmake",
       "host": true
diff --git a/ports/kf5jobwidgets/portfile.cmake b/ports/kf5jobwidgets/portfile.cmake
index e34c97193..56296e188 100644
--- a/ports/kf5jobwidgets/portfile.cmake
+++ b/ports/kf5jobwidgets/portfile.cmake
@@ -13,6 +13,8 @@ vcpkg_cmake_configure(
     SOURCE_PATH "${SOURCE_PATH}"
     OPTIONS
         -DBUILD_TESTING=OFF
+        -DBUILD_WITH_QT6=ON
+        -DEXCLUDE_DEPRECATED_BEFORE_AND_AT=5.94.0
 )
 
 vcpkg_cmake_install()
diff --git a/ports/kf5jobwidgets/vcpkg.json b/ports/kf5jobwidgets/vcpkg.json
index 8a6164212..ae98496d4 100644
--- a/ports/kf5jobwidgets/vcpkg.json
+++ b/ports/kf5jobwidgets/vcpkg.json
@@ -7,11 +7,7 @@
     "ecm",
     "kf5coreaddons",
     "kf5widgetsaddons",
-    "qt5-base",
-    {
-      "name": "qt5-x11extras",
-      "platform": "linux"
-    },
+    "qtbase",
     {
       "name": "vcpkg-cmake",
       "host": true
diff --git a/ports/kf5kcmutils/portfile.cmake b/ports/kf5kcmutils/portfile.cmake
index da0a49637..6baa0fd1f 100644
--- a/ports/kf5kcmutils/portfile.cmake
+++ b/ports/kf5kcmutils/portfile.cmake
@@ -13,6 +13,8 @@ vcpkg_cmake_configure(
     SOURCE_PATH "${SOURCE_PATH}"
     OPTIONS
         -DBUILD_TESTING=OFF
+        -DBUILD_WITH_QT6=ON
+        -DEXCLUDE_DEPRECATED_BEFORE_AND_AT=5.94.0
 )
 
 vcpkg_cmake_install()
diff --git a/ports/kf5kcmutils/vcpkg.json b/ports/kf5kcmutils/vcpkg.json
index 85309cd38..73b6f4075 100644
--- a/ports/kf5kcmutils/vcpkg.json
+++ b/ports/kf5kcmutils/vcpkg.json
@@ -20,8 +20,8 @@
     "kf5itemviews",
     "kf5service",
     "kf5xmlgui",
-    "qt5-base",
-    "qt5-tools",
+    "qtbase",
+    "qttools",
     {
       "name": "vcpkg-cmake",
       "host": true
diff --git a/ports/kf5kio/portfile.cmake b/ports/kf5kio/portfile.cmake
index 12fdb5916..a91ba7309 100644
--- a/ports/kf5kio/portfile.cmake
+++ b/ports/kf5kio/portfile.cmake
@@ -25,6 +25,8 @@ vcpkg_cmake_configure(
     SOURCE_PATH "${SOURCE_PATH}"
     OPTIONS
         -DBUILD_TESTING=OFF
+        -DBUILD_WITH_QT6=ON
+        -DEXCLUDE_DEPRECATED_BEFORE_AND_AT=5.94.0
         -DCMAKE_DISABLE_FIND_PACKAGE_KF5DocTools=ON
         -DCMAKE_VERBOSE_MAKEFILE=ON
         -DKDE_INSTALL_QTPLUGINDIR=plugins
diff --git a/ports/kf5kio/vcpkg.json b/ports/kf5kio/vcpkg.json
index 3f06846fc..aaa381a64 100644
--- a/ports/kf5kio/vcpkg.json
+++ b/ports/kf5kio/vcpkg.json
@@ -46,15 +46,7 @@
       "name": "libmount",
       "platform": "linux"
     },
-    "qt5-base",
-    {
-      "name": "qt5-macextras",
-      "platform": "osx"
-    },
-    {
-      "name": "qt5-x11extras",
-      "platform": "linux"
-    },
+    "qtbase",
     {
       "name": "vcpkg-cmake",
       "host": true
diff --git a/ports/kf5newstuff/portfile.cmake b/ports/kf5newstuff/portfile.cmake
index ddb0527c2..dad1bb785 100644
--- a/ports/kf5newstuff/portfile.cmake
+++ b/ports/kf5newstuff/portfile.cmake
@@ -13,6 +13,8 @@ vcpkg_cmake_configure(
     SOURCE_PATH "${SOURCE_PATH}"
     OPTIONS
         -DBUILD_TESTING=OFF
+        -DBUILD_WITH_QT6=ON
+        -DEXCLUDE_DEPRECATED_BEFORE_AND_AT=5.94.0
         -DKDE_INSTALL_QMLDIR=qml
         -DBUNDLE_INSTALL_DIR=bin
 )
diff --git a/ports/kf5newstuff/vcpkg.json b/ports/kf5newstuff/vcpkg.json
index a435e8b05..d04d16fb3 100644
--- a/ports/kf5newstuff/vcpkg.json
+++ b/ports/kf5newstuff/vcpkg.json
@@ -26,8 +26,8 @@
     "kf5textwidgets",
     "kf5widgetsaddons",
     "kf5xmlgui",
-    "qt5-base",
-    "qt5-tools",
+    "qtbase",
+    "qttools",
     {
       "name": "vcpkg-cmake",
       "host": true
diff --git a/ports/kf5notifications/portfile.cmake b/ports/kf5notifications/portfile.cmake
index e44c59b76..8b35928c9 100644
--- a/ports/kf5notifications/portfile.cmake
+++ b/ports/kf5notifications/portfile.cmake
@@ -13,6 +13,8 @@ vcpkg_cmake_configure(
     SOURCE_PATH "${SOURCE_PATH}"
     OPTIONS
         -DBUILD_TESTING=OFF
+        -DBUILD_WITH_QT6=ON
+        -DEXCLUDE_DEPRECATED_BEFORE_AND_AT=5.94.0
         -DKDE_INSTALL_QMLDIR=qml
 )
 
diff --git a/ports/kf5notifications/vcpkg.json b/ports/kf5notifications/vcpkg.json
index 1299e13af..6c85b6838 100644
--- a/ports/kf5notifications/vcpkg.json
+++ b/ports/kf5notifications/vcpkg.json
@@ -19,20 +19,8 @@
       "name": "libsnoretoast",
       "platform": "windows"
     },
-    {
-      "name": "qt5-androidextras",
-      "platform": "android"
-    },
-    "qt5-base",
-    {
-      "name": "qt5-macextras",
-      "platform": "osx"
-    },
-    "qt5-tools",
-    {
-      "name": "qt5-x11extras",
-      "platform": "linux"
-    },
+    "qtbase",
+    "qttools",
     {
       "name": "vcpkg-cmake",
       "host": true
diff --git a/ports/kf5package/portfile.cmake b/ports/kf5package/portfile.cmake
index f58344ed0..c80f2977d 100644
--- a/ports/kf5package/portfile.cmake
+++ b/ports/kf5package/portfile.cmake
@@ -13,6 +13,8 @@ vcpkg_cmake_configure(
     SOURCE_PATH "${SOURCE_PATH}"
     OPTIONS
         -DBUILD_TESTING=OFF
+        -DBUILD_WITH_QT6=ON
+        -DEXCLUDE_DEPRECATED_BEFORE_AND_AT=5.94.0
         -DCMAKE_DISABLE_FIND_PACKAGE_KF5DocTools=ON
 )
 
diff --git a/ports/kf5package/vcpkg.json b/ports/kf5package/vcpkg.json
index 30d6ea179..e83cb3966 100644
--- a/ports/kf5package/vcpkg.json
+++ b/ports/kf5package/vcpkg.json
@@ -15,8 +15,8 @@
     "kf5archive",
     "kf5coreaddons",
     "kf5i18n",
-    "qt5-base",
-    "qt5-tools",
+    "qtbase",
+    "qttools",
     {
       "name": "vcpkg-cmake",
       "host": true
diff --git a/ports/kf5plotting/portfile.cmake b/ports/kf5plotting/portfile.cmake
index cd05b7ff5..62a541968 100644
--- a/ports/kf5plotting/portfile.cmake
+++ b/ports/kf5plotting/portfile.cmake
@@ -13,6 +13,8 @@ vcpkg_cmake_configure(
     SOURCE_PATH "${SOURCE_PATH}"
     OPTIONS
         -DBUILD_TESTING=OFF
+        -DBUILD_WITH_QT6=ON
+        -DEXCLUDE_DEPRECATED_BEFORE_AND_AT=5.94.0
 )
 
 vcpkg_cmake_install()
diff --git a/ports/kf5plotting/vcpkg.json b/ports/kf5plotting/vcpkg.json
index 6a085aacc..8925c5990 100644
--- a/ports/kf5plotting/vcpkg.json
+++ b/ports/kf5plotting/vcpkg.json
@@ -5,8 +5,8 @@
   "homepage": "https://api.kde.org/frameworks/kplotting/html/index.html",
   "dependencies": [
     "ecm",
-    "qt5-base",
-    "qt5-tools",
+    "qtbase",
+    "qttools",
     {
       "name": "vcpkg-cmake",
       "host": true
diff --git a/ports/kf5service/portfile.cmake b/ports/kf5service/portfile.cmake
index afaebd0eb..0f99c8c58 100644
--- a/ports/kf5service/portfile.cmake
+++ b/ports/kf5service/portfile.cmake
@@ -38,6 +38,8 @@ vcpkg_cmake_configure(
     SOURCE_PATH "${SOURCE_PATH}"
     OPTIONS
         -DBUILD_TESTING=OFF
+        -DBUILD_WITH_QT6=ON
+        -DEXCLUDE_DEPRECATED_BEFORE_AND_AT=5.94.0
         -DCMAKE_DISABLE_FIND_PACKAGE_KF5DocTools=ON
 )
 
diff --git a/ports/kf5service/vcpkg.json b/ports/kf5service/vcpkg.json
index a7f375e61..075e46210 100644
--- a/ports/kf5service/vcpkg.json
+++ b/ports/kf5service/vcpkg.json
@@ -20,8 +20,8 @@
     },
     "kf5i18n",
     "libiconv",
-    "qt5-base",
-    "qt5-tools",
+    "qtbase",
+    "qttools",
     {
       "name": "vcpkg-cmake",
       "host": true
diff --git a/ports/kf5solid/portfile.cmake b/ports/kf5solid/portfile.cmake
index cc4f0358a..5d3c518ec 100644
--- a/ports/kf5solid/portfile.cmake
+++ b/ports/kf5solid/portfile.cmake
@@ -45,6 +45,8 @@ vcpkg_cmake_configure(
     SOURCE_PATH "${SOURCE_PATH}"
     OPTIONS
         -DBUILD_TESTING=OFF
+        -DBUILD_WITH_QT6=ON
+        -DEXCLUDE_DEPRECATED_BEFORE_AND_AT=5.94.0
         -DKDE_INSTALL_QMLDIR=qml
 )
 
diff --git a/ports/kf5solid/vcpkg.json b/ports/kf5solid/vcpkg.json
index ec477c5b4..1adbd4c8a 100644
--- a/ports/kf5solid/vcpkg.json
+++ b/ports/kf5solid/vcpkg.json
@@ -5,8 +5,8 @@
   "homepage": "https://api.kde.org/frameworks/solid/html/index.html",
   "dependencies": [
     "ecm",
-    "qt5-base",
-    "qt5-tools",
+    "qtbase",
+    "qttools",
     {
       "name": "vcpkg-cmake",
       "host": true
diff --git a/ports/kf5sonnet/portfile.cmake b/ports/kf5sonnet/portfile.cmake
index f981c077c..96e5b8180 100644
--- a/ports/kf5sonnet/portfile.cmake
+++ b/ports/kf5sonnet/portfile.cmake
@@ -14,6 +14,8 @@ vcpkg_cmake_configure(
     OPTIONS
         -DBUILD_TESTING=OFF
         -DBUILD_EXAMPLES=OFF
+        -DBUILD_WITH_QT6=ON
+        -DEXCLUDE_DEPRECATED_BEFORE_AND_AT=5.94.0
         -DKDE_INSTALL_PLUGINDIR=plugins
         -DKDE_INSTALL_QTPLUGINDIR=plugins
         -DKDE_INSTALL_QMLDIR=qml
diff --git a/ports/kf5sonnet/vcpkg.json b/ports/kf5sonnet/vcpkg.json
index 194bb46b2..6d710cb3d 100644
--- a/ports/kf5sonnet/vcpkg.json
+++ b/ports/kf5sonnet/vcpkg.json
@@ -5,8 +5,8 @@
   "homepage": "https://api.kde.org/frameworks/sonnet/html/index.html",
   "dependencies": [
     "ecm",
-    "qt5-base",
-    "qt5-tools",
+    "qtbase",
+    "qttools",
     {
       "name": "vcpkg-cmake",
       "host": true
diff --git a/ports/kf5syntaxhighlighting/portfile.cmake b/ports/kf5syntaxhighlighting/portfile.cmake
index 9cb527951..f20769536 100644
--- a/ports/kf5syntaxhighlighting/portfile.cmake
+++ b/ports/kf5syntaxhighlighting/portfile.cmake
@@ -17,6 +17,8 @@ vcpkg_cmake_configure(
     SOURCE_PATH "${SOURCE_PATH}"
     OPTIONS
         -DBUILD_TESTING=OFF
+        -DBUILD_WITH_QT6=ON
+        -DEXCLUDE_DEPRECATED_BEFORE_AND_AT=5.94.0
         -DKDE_INSTALL_QMLDIR=qml
 )
 
diff --git a/ports/kf5syntaxhighlighting/vcpkg.json b/ports/kf5syntaxhighlighting/vcpkg.json
index 51784515b..c6a320aea 100644
--- a/ports/kf5syntaxhighlighting/vcpkg.json
+++ b/ports/kf5syntaxhighlighting/vcpkg.json
@@ -5,8 +5,8 @@
   "homepage": "https://github.com/KDE/syntax-highlighting",
   "dependencies": [
     "ecm",
-    "qt5-base",
-    "qt5-tools",
+    "qtbase",
+    "qttools",
     "qt5-xmlpatterns",
     {
       "name": "vcpkg-cmake",
diff --git a/ports/kf5textwidgets/portfile.cmake b/ports/kf5textwidgets/portfile.cmake
index bf3e1ad90..6b4b11ee0 100644
--- a/ports/kf5textwidgets/portfile.cmake
+++ b/ports/kf5textwidgets/portfile.cmake
@@ -13,6 +13,8 @@ vcpkg_cmake_configure(
     SOURCE_PATH "${SOURCE_PATH}"
     OPTIONS
         -DBUILD_TESTING=OFF
+        -DBUILD_WITH_QT6=ON
+        -DEXCLUDE_DEPRECATED_BEFORE_AND_AT=5.94.0
         -DKDE_INSTALL_QTPLUGINDIR=plugins
 )
 
diff --git a/ports/kf5textwidgets/vcpkg.json b/ports/kf5textwidgets/vcpkg.json
index 82b0da989..15f8a30fb 100644
--- a/ports/kf5textwidgets/vcpkg.json
+++ b/ports/kf5textwidgets/vcpkg.json
@@ -18,8 +18,8 @@
     "kf5i18n",
     "kf5sonnet",
     "kf5widgetsaddons",
-    "qt5-base",
-    "qt5-tools",
+    "qtbase",
+    "qttools",
     {
       "name": "vcpkg-cmake",
       "host": true
diff --git a/ports/kf5wallet/portfile.cmake b/ports/kf5wallet/portfile.cmake
index 61db39fa1..ad62314be 100644
--- a/ports/kf5wallet/portfile.cmake
+++ b/ports/kf5wallet/portfile.cmake
@@ -13,6 +13,8 @@ vcpkg_cmake_configure(
     SOURCE_PATH "${SOURCE_PATH}"
     OPTIONS
         -DBUILD_TESTING=OFF
+        -DBUILD_WITH_QT6=ON
+        -DEXCLUDE_DEPRECATED_BEFORE_AND_AT=5.94.0
         -DBUILD_KWALLETD=OFF
         -DBUILD_KWALLET_QUERY=OFF
 )
diff --git a/ports/kf5wallet/vcpkg.json b/ports/kf5wallet/vcpkg.json
index eaf4d1253..930bbc3b1 100644
--- a/ports/kf5wallet/vcpkg.json
+++ b/ports/kf5wallet/vcpkg.json
@@ -17,8 +17,8 @@
     "kf5coreaddons",
     "kf5i18n",
     "kf5windowsystem",
-    "qt5-base",
-    "qt5-tools",
+    "qtbase",
+    "qttools",
     {
       "name": "vcpkg-cmake",
       "host": true
diff --git a/ports/kf5widgetsaddons/portfile.cmake b/ports/kf5widgetsaddons/portfile.cmake
index dacd9aab5..3ebf6c337 100644
--- a/ports/kf5widgetsaddons/portfile.cmake
+++ b/ports/kf5widgetsaddons/portfile.cmake
@@ -13,6 +13,8 @@ vcpkg_cmake_configure(
     SOURCE_PATH "${SOURCE_PATH}"
     OPTIONS
         -DBUILD_TESTING=OFF
+        -DBUILD_WITH_QT6=ON
+        -DEXCLUDE_DEPRECATED_BEFORE_AND_AT=5.94.0
         -DBUILD_DESIGNERPLUGIN=OFF
 )
 
diff --git a/ports/kf5widgetsaddons/vcpkg.json b/ports/kf5widgetsaddons/vcpkg.json
index 7dd41877e..207dfad8d 100644
--- a/ports/kf5widgetsaddons/vcpkg.json
+++ b/ports/kf5widgetsaddons/vcpkg.json
@@ -5,8 +5,8 @@
   "homepage": "https://api.kde.org/frameworks/kwidgetsaddons/html/index.html",
   "dependencies": [
     "ecm",
-    "qt5-base",
-    "qt5-tools",
+    "qtbase",
+    "qttools",
     {
       "name": "vcpkg-cmake",
       "host": true
diff --git a/ports/kf5windowsystem/portfile.cmake b/ports/kf5windowsystem/portfile.cmake
index 999383d7e..1fb2c7cf2 100644
--- a/ports/kf5windowsystem/portfile.cmake
+++ b/ports/kf5windowsystem/portfile.cmake
@@ -16,6 +16,8 @@ vcpkg_cmake_configure(
     SOURCE_PATH "${SOURCE_PATH}"
     OPTIONS
         -DBUILD_TESTING=OFF
+        -DBUILD_WITH_QT6=ON
+        -DEXCLUDE_DEPRECATED_BEFORE_AND_AT=5.94.0
         -DKDE_INSTALL_PLUGINDIR=plugins
 )
 
diff --git a/ports/kf5windowsystem/vcpkg.json b/ports/kf5windowsystem/vcpkg.json
index d16a10e55..f3f8c3046 100644
--- a/ports/kf5windowsystem/vcpkg.json
+++ b/ports/kf5windowsystem/vcpkg.json
@@ -6,15 +6,7 @@
   "homepage": "https://api.kde.org/frameworks/kwindowsystem/html/",
   "dependencies": [
     "ecm",
-    "qt5-tools",
-    {
-      "name": "qt5-winextras",
-      "platform": "windows"
-    },
-    {
-      "name": "qt5-x11extras",
-      "platform": "linux"
-    },
+    "qttools",
     {
       "name": "vcpkg-cmake",
       "host": true
diff --git a/ports/kf5xmlgui/portfile.cmake b/ports/kf5xmlgui/portfile.cmake
index d3a9143db..ab616f917 100644
--- a/ports/kf5xmlgui/portfile.cmake
+++ b/ports/kf5xmlgui/portfile.cmake
@@ -19,6 +19,8 @@ vcpkg_cmake_configure(
     SOURCE_PATH "${SOURCE_PATH}"
     OPTIONS
         -DBUILD_TESTING=OFF
+        -DBUILD_WITH_QT6=ON
+        -DEXCLUDE_DEPRECATED_BEFORE_AND_AT=5.94.0
         -DKDE_INSTALL_PLUGINDIR=plugins
         -DKDE_INSTALL_QTPLUGINDIR=plugins
         ${FEATURE_OPTIONS}
diff --git a/ports/kf5xmlgui/vcpkg.json b/ports/kf5xmlgui/vcpkg.json
index 72fe1dcd7..ea9f30a85 100644
--- a/ports/kf5xmlgui/vcpkg.json
+++ b/ports/kf5xmlgui/vcpkg.json
@@ -31,8 +31,8 @@
       "name": "libiconv",
       "platform": "windows & static"
     },
-    "qt5-base",
-    "qt5-tools",
+    "qtbase",
+    "qttools",
     {
       "name": "vcpkg-cmake",
       "host": true
-- 
2.35.3

